<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ink & Echo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="./style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Hammer.js for buttery swipes -->
  <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/turn.js@4/turn.min.js"></script>
</head>
<body>
  <div id="flipbook">
    <div class="hard cover-front">Ink & Echo</div>
    <div class="hard inside-cover"></div>
    <div class="page">Page 1</div>
    <div class="page">Page 2</div>
    <div class="page">Page 3</div>
    <div class="page">Page 4</div>
    <div class="hard inside-cover"></div>
    <div class="hard cover-back"></div>
  </div>

  <script>
    $(function() {
      // Initialize Turn.js with acceleration and custom duration
      const isMobile = window.innerWidth <= 768;
      $('#flipbook').turn({
        width: isMobile ? window.innerWidth - 20 : 400,
        height: isMobile ? (window.innerWidth - 20) * 0.75 : 300,
        display: isMobile ? 'single' : 'double',
        autoCenter: true,
        acceleration: true,
        gradients: true,
        duration: 800  // ms, tweak for faster/slower flip
      });

      // Hammer.js swipe binding
      const hammer = new Hammer(document.getElementById('flipbook'));
      hammer.on('swipeleft',  () => $('#flipbook').turn('next'));
      hammer.on('swiperight', () => $('#flipbook').turn('previous'));

      // On resize, update size and mode
      $(window).on('resize', () => {
        const mobile = window.innerWidth <= 768;
        const w = mobile ? window.innerWidth - 20 : 400;
        const h = mobile ? w * 0.75 : 300;
        $('#flipbook').turn('size', w, h);
        $('#flipbook').turn('display', mobile ? 'single' : 'double');
      });
    });
  </script>
</body>
</html>
